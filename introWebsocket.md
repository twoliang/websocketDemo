# websocket介绍（面试可答）

WebSocket 协议是一种网络通信协议，旨在解决 HTTP 协议在实时通信方面的局限性。以下是 WebSocket 协议的主要目的和原因：

### 主要目的

1. **实现全双工通信**：
   - 在传统的 HTTP 请求-响应模型中，客户端发送请求后，服务器才能响应。客户端需要不断发送请求来获取更新的数据，这种方式称为轮询（polling）.
   - WebSocket 协议允许服务器主动向客户端发送数据，而不需要客户端发送请求。客户端也可以随时向服务器发送数据，实现了真正的全双工通信.

2. **保持持久连接**：
   - HTTP 协议是无状态的，每次请求都会建立新的连接，请求完成后连接就会关闭。频繁地建立和关闭连接会导致较高的延迟和资源消耗.
   - WebSocket 协议建立连接后，会保持连接的持久性，直到客户端或服务器显式地关闭连接。这使得数据传输的延迟更低，资源利用率更高.

3. **支持二进制数据传输**：
   - WebSocket 协议不仅支持文本数据的传输，还支持二进制数据的传输。这使得它可以用于传输更复杂的数据类型，如音频、视频和文件等.

### 产生原因

1. **实时通信需求**：
   - 随着互联网应用的发展，实时通信的需求日益增加，如在线聊天、实时游戏、实时数据监控等。传统的 HTTP 轮询方式无法满足这些应用对实时性的要求.
   - WebSocket 协议提供了一种高效的实时通信解决方案，能够实现数据的即时传输，满足了实时应用的需求.

2. **性能优化需求**：
   - 在一些需要频繁数据交换的应用中，传统的 HTTP 请求-响应模型会导致大量的连接建立和关闭操作，增加了服务器的负载和网络的延迟.
   - WebSocket 协议通过保持持久连接，减少了连接的开销，提高了数据传输的效率，降低了服务器的负载.

3. **协议标准化**：
   - 在 WebSocket 协议出现之前，开发者为了实现类似的功能，通常需要使用各种非标准的解决方案，如 Comet、长轮询等。这些方案存在兼容性差、实现复杂等问题.
   - WebSocket 协议作为一种标准化的网络通信协议，得到了广泛的支持和兼容，简化了开发者的实现过程，提高了应用的可移植性和可维护性.

总之，WebSocket 协议的出现是为了满足现代互联网应用对实时、高效和全双工通信的需求，解决了传统 HTTP 协议在这些方面的不足，为开发者提供了一种更加灵活和强大的通信方式.